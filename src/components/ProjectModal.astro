---
---

<div
    id="project-modal"
    class="fixed inset-0 z-[100] flex items-center justify-center p-4 opacity-0 pointer-events-none transition-all duration-300"
>
    <!-- Backdrop -->
    <div
        class="absolute inset-0 bg-black/60 backdrop-blur-sm"
        id="modal-backdrop"
    >
    </div>

    <!-- Modal Content -->
    <div
        class="relative w-full max-w-6xl h-full max-h-[90vh] bg-white dark:bg-gray-900 rounded-3xl overflow-hidden shadow-2xl transform scale-95 transition-transform duration-300 flex flex-col md:flex-row"
        id="modal-content"
    >
        <button
            id="close-modal"
            class="absolute top-6 right-6 z-20 p-3 rounded-full bg-black/5 dark:bg-white/5 hover:bg-black/10 dark:hover:bg-white/10 transition-colors"
        >
            <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 text-gray-800 dark:text-gray-200"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>

        <!-- Image Section -->
        <div
            class="md:w-3/5 bg-gray-50 dark:bg-gray-800 flex items-center justify-center min-h-[300px] md:min-h-full"
        >
            <div
                id="modal-image-container"
                class="w-full h-full flex items-center justify-center relative"
            >
                <span
                    class="text-gray-400 font-heading uppercase font-black text-6xl opacity-10"
                    >Project View</span
                >
            </div>
        </div>

        <!-- Info Section -->
        <div
            class="md:w-2/5 p-12 flex flex-col h-full bg-white dark:bg-gray-900"
        >
            <h2
                id="modal-title"
                class="font-heading font-black text-4xl text-blue-600 dark:text-blue-500 uppercase tracking-tighter mb-6 leading-[0.9]"
            >
                Project Title
            </h2>

            <div class="flex-grow overflow-y-auto pr-2 custom-scrollbar">
                <p
                    class="text-gray-600 dark:text-gray-400 mb-8 leading-relaxed text-lg"
                >
                    This is a placeholder for the project description. Detailed
                    information about the project, its goals, and the
                    technologies used will appear here.
                </p>

                <h4
                    class="font-heading font-bold text-xs uppercase tracking-widest text-gray-400 dark:text-gray-500 mb-3"
                >
                    Technologies
                </h4>
                <div class="flex flex-wrap gap-2 mb-10" id="modal-tags">
                    <span
                        class="px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-bold rounded-full uppercase"
                        >React</span
                    >
                    <span
                        class="px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-bold rounded-full uppercase"
                        >Tailwind</span
                    >
                    <span
                        class="px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-[10px] font-bold rounded-full uppercase"
                        >Astro</span
                    >
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="grid grid-cols-2 gap-4 mt-8">
                <a
                    href="#"
                    id="modal-repo-link"
                    target="_blank"
                    class="rounded-full bg-white dark:bg-gray-800 px-6 py-3 font-heading text-sm font-bold uppercase tracking-wider text-blue-600 dark:text-blue-400 shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 border border-blue-50 dark:border-blue-900/20 text-center"
                >
                    Visit Repo
                </a>
                <a
                    href="#"
                    id="modal-demo-link"
                    target="_blank"
                    class="rounded-full bg-white dark:bg-gray-800 px-6 py-3 font-heading text-sm font-bold uppercase tracking-wider text-blue-600 dark:text-blue-400 shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 border border-blue-50 dark:border-blue-900/20 text-center"
                >
                    Visit Demo
                </a>
            </div>
        </div>
    </div>
</div>

<script>
    const modal = document.getElementById("project-modal");
    const backdrop = document.getElementById("modal-backdrop");
    const content = document.getElementById("modal-content");
    const closeBtn = document.getElementById("close-modal");
    const titleEl = document.getElementById("modal-title");
    const repoLinkEl = document.getElementById(
        "modal-repo-link"
    ) as HTMLAnchorElement;
    const demoLinkEl = document.getElementById(
        "modal-demo-link"
    ) as HTMLAnchorElement;

    function openModal(data: {
        title: string;
        href: string;
        repoUrl: string;
        demoUrl: string;
    }) {
        if (!modal || !content || !titleEl || !repoLinkEl || !demoLinkEl)
            return;

        titleEl.textContent = data.title;
        repoLinkEl.href = data.repoUrl;
        demoLinkEl.href = data.demoUrl;

        modal.classList.remove("opacity-0", "pointer-events-none");
        modal.classList.add("opacity-100");
        content.classList.remove("scale-95");
        content.classList.add("scale-100");
        document.body.style.overflow = "hidden";
    }

    function closeModal() {
        if (!modal || !content) return;

        modal.classList.remove("opacity-100");
        modal.classList.add("opacity-0", "pointer-events-none");
        content.classList.remove("scale-100");
        content.classList.add("scale-95");
        document.body.style.overflow = "";
    }

    backdrop?.addEventListener("click", closeModal);
    closeBtn?.addEventListener("click", closeModal);

    // Listen for custom event
    window.addEventListener("open-project-modal", (e: any) => {
        openModal(e.detail);
    });

    // Close on Escape
    window.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeModal();
    });
</script>
