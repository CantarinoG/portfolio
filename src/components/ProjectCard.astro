---
interface Props {
    title: string;
    imageSrc?: string;
    videoSrc?: string;
    href: string;
}

const { title, imageSrc, videoSrc, href } = Astro.props;
---

<a
    href={href}
    class="group relative block aspect-square w-full overflow-hidden bg-gray-200 transition-all duration-500 ease-in-out hover:z-50 hover:scale-105 hover:shadow-2xl"
>
    {/* Default Image */}
    <div
        class="absolute inset-0 z-10 transition-opacity duration-300 group-hover:opacity-0"
    >
        {
            imageSrc ? (
                <img
                    src={imageSrc}
                    alt={title}
                    class="h-full w-full object-cover"
                />
            ) : (
                <div class="flex h-full w-full items-center justify-center bg-blue-50 text-blue-200 font-heading font-black text-2xl uppercase">
                    {title}
                </div>
            )
        }
    </div>

    {/* Hover Video */}
    <div
        class="absolute inset-0 z-0 opacity-0 transition-opacity duration-300 group-hover:opacity-100"
    >
        {
            videoSrc ? (
                <video
                    src={videoSrc}
                    class="h-full w-full object-cover"
                    autoplay
                    muted
                    loop
                    playsinline
                />
            ) : (
                <div class="flex h-full w-full items-center justify-center bg-blue-600 text-white font-heading font-black text-2xl uppercase">
                    Video Placeholder
                </div>
            )
        }
    </div>

    {/* Overlay Text */}
    <div
        class="absolute inset-0 z-20 flex items-center justify-center opacity-0 transition-all duration-300 group-hover:opacity-100 bg-black/20"
    >
        <span
            class="rounded-full bg-white px-6 py-2 font-heading text-sm font-bold uppercase tracking-wider text-blue-600 shadow-lg transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300"
        >
            Click for details
        </span>
    </div>
</a>
